<ngb-accordion #acc="ngbAccordion">
  <ngb-panel>
    <ng-template ngbPanelTitle>
      <span>Opciones</span>
    </ng-template>
    <ng-template ngbPanelContent>
      <form [formGroup]="searchForm" novalidate (ngSubmit)="onSubmit()" >
        <div formArrayName="filters">
          <div class="form-row align-items-center" *ngFor="let filter of filters.controls; let i=index" [formGroupName]="i">


            <div class="col-xs-4">
              <select class="form-control form-control-sm" formControlName="field">
                <option value="">--Campo--</option>
                <option value="_search">Todos</option>
                <option value="id">Persona</option>
                <option value="nombres">Nombres</option>
                <option value="apellidos">Apellidos</option>
                <option value="fecha_nacimiento">Fecha Nacimiento</option>
                <option value="numero_documento">Numero Documento</option>
                <option value="cuil">Cuil</option>
                <option value="email">Email</option>
                <option value="genero">Genero</option>
                <option value="apodo">Apodo</option>
                <option value="alta">Alta</option>
              </select>
            </div>


            <div class="col-xs-2" [ngSwitch]="f(i)" >   
              <!-- todos -->
              <select *ngSwitchCase="'_search'" class="form-control form-control-sm" formControlName="option">
                <option value="=~">&cong;</option>
              </select>

              <!-- id -->
              <select *ngSwitchCase="'id'" class="form-control form-control-sm" formControlName="option">
                <option value="=">=</option>
                <option value="!=">&ne;</option>
              </select>

              <!-- nombres -->
              <select *ngSwitchCase="'nombres'" class="form-control form-control-sm" formControlName="option">
                <option value="=~">&cong;</option>
                <option value="!=~">&#8775;</option>
                <option value="=">=</option>
                <option value="!=">&ne;</option>
                <option value="<=">&le;</option>
                <option value=">=">&ge;</option>
              </select>
    
              <!-- apellidos -->
              <select *ngSwitchCase="'apellidos'" class="form-control form-control-sm" formControlName="option">
                <option value="=~">&cong;</option>
                <option value="!=~">&#8775;</option>
                <option value="=">=</option>
                <option value="!=">&ne;</option>
                <option value="<=">&le;</option>
                <option value=">=">&ge;</option>
              </select>
    
              <!-- fecha_nacimiento -->
              <select *ngSwitchCase="'fecha_nacimiento'" class="form-control form-control-sm" formControlName="option">
                <option value="=~">&cong;</option>
                <option value="!=~">&#8775;</option>
                <option value="=">=</option>
                <option value="!=">&ne;</option>
                <option value="<=">&le;</option>
                <option value=">=">&ge;</option>
              </select>
    
              <!-- numero_documento -->
              <select *ngSwitchCase="'numero_documento'" class="form-control form-control-sm" formControlName="option">
                <option value="=~">&cong;</option>
                <option value="!=~">&#8775;</option>
                <option value="=">=</option>
                <option value="!=">&ne;</option>
                <option value="<=">&le;</option>
                <option value=">=">&ge;</option>
              </select>
    
              <!-- cuil -->
              <select *ngSwitchCase="'cuil'" class="form-control form-control-sm" formControlName="option">
                <option value="=~">&cong;</option>
                <option value="!=~">&#8775;</option>
                <option value="=">=</option>
                <option value="!=">&ne;</option>
                <option value="<=">&le;</option>
                <option value=">=">&ge;</option>
              </select>
    
              <!-- email -->
              <select *ngSwitchCase="'email'" class="form-control form-control-sm" formControlName="option">
                <option value="=~">&cong;</option>
                <option value="!=~">&#8775;</option>
                <option value="=">=</option>
                <option value="!=">&ne;</option>
                <option value="<=">&le;</option>
                <option value=">=">&ge;</option>
              </select>
    
              <!-- genero -->
              <select *ngSwitchCase="'genero'" class="form-control form-control-sm" formControlName="option">
                <option value="=~">&cong;</option>
                <option value="!=~">&#8775;</option>
                <option value="=">=</option>
                <option value="!=">&ne;</option>
                <option value="<=">&le;</option>
                <option value=">=">&ge;</option>
              </select>
    
              <!-- apodo -->
              <select *ngSwitchCase="'apodo'" class="form-control form-control-sm" formControlName="option">
                <option value="=~">&cong;</option>
                <option value="!=~">&#8775;</option>
                <option value="=">=</option>
                <option value="!=">&ne;</option>
                <option value="<=">&le;</option>
                <option value=">=">&ge;</option>
              </select>
    
              <!-- alta -->
              <select *ngSwitchCase="'alta'" class="form-control form-control-sm" formControlName="option">
                <option value="=~">&cong;</option>
                <option value="!=~">&#8775;</option>
                <option value="=">=</option>
                <option value="!=">&ne;</option>
                <option value="<=">&le;</option>
                <option value=">=">&ge;</option>
              </select>
    
            </div>


            <div class="col-xs-4" [ngSwitch]="f(i)" >
              <!-- todos -->
              <input *ngSwitchCase="'_search'" class="form-control form-control-sm" formControlName="value">

              <!-- id -->
              <app-filter-typeahead *ngSwitchCase="'id'" [entityName]="'persona'" [filter]="filter" ></app-filter-typeahead>

              <!-- nombres -->
              <input *ngSwitchCase="'nombres'" class="form-control form-control-sm" formControlName="value">

              <!-- apellidos -->
              <input *ngSwitchCase="'apellidos'" class="form-control form-control-sm" formControlName="value">

              <!-- fecha_nacimiento -->
              <input *ngSwitchCase="'fecha_nacimiento'" class="form-control form-control-sm" formControlName="value">

              <!-- numero_documento -->
              <input *ngSwitchCase="'numero_documento'" class="form-control form-control-sm" formControlName="value">

              <!-- cuil -->
              <input *ngSwitchCase="'cuil'" class="form-control form-control-sm" formControlName="value">

              <!-- email -->
              <input *ngSwitchCase="'email'" class="form-control form-control-sm" formControlName="value">

              <!-- genero -->
              <input *ngSwitchCase="'genero'" class="form-control form-control-sm" formControlName="value">

              <!-- apodo -->
              <input *ngSwitchCase="'apodo'" class="form-control form-control-sm" formControlName="value">

              <!-- alta -->
              <input *ngSwitchCase="'alta'" class="form-control form-control-sm" formControlName="value">

              <div *ngSwitchDefault>Seleccione campo</div>
            </div>
            <div class="col-xs-2">
              <button type="button" class="btn btn-danger btn-sm" (click)="removeFilter(i)"><span class="oi oi-x"></span></button>
            </div>
          </div>
        </div> <!-- formArrayName="filters" -->
      
        <div class="form-row">
          <div class="col">
            <button type="button" class="btn btn-info btn-sm" (click)="addFilter()"><span class="oi oi-layers"></span></button>
            <button type="submit" class="btn btn-primary btn-sm"><span class="oi oi-magnifying-glass"></span></button>
          </div>
        </div>
      </form>
    </ng-template>
  </ngb-panel>
</ngb-accordion>
