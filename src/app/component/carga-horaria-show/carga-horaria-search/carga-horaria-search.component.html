<ngb-accordion #acc="ngbAccordion">
  <ngb-panel>
    <ng-template ngbPanelTitle>
      <span>Opciones</span>
    </ng-template>
    <ng-template ngbPanelContent>
      <form [formGroup]="searchForm" novalidate (ngSubmit)="onSubmit()" >
        <div formArrayName="filters">
          <div class="form-row align-items-center" *ngFor="let filter of filters.controls; let i=index" [formGroupName]="i">


            <div class="col-xs-4">
              <select class="form-control form-control-sm" formControlName="field">
                <option value="">--Campo--</option>
                <option value="_search">Todos</option>
                <option value="id">Carga Horaria</option>
                <option value="anio">Anio</option>
                <option value="semestre">Semestre</option>
                <option value="horas_catedra">Horas Catedra</option>
                <option value="plan">Plan</option>
                <option value="asignatura">Asignatura</option>
              </select>
            </div>


            <div class="col-xs-2" [ngSwitch]="f(i)" >   
              <!-- todos -->
              <select *ngSwitchCase="'_search'" class="form-control form-control-sm" formControlName="option">
                <option value="=~">&cong;</option>
              </select>

              <!-- id -->
              <select *ngSwitchCase="'id'" class="form-control form-control-sm" formControlName="option">
                <option value="=">=</option>
                <option value="!=">&ne;</option>
              </select>

              <!-- anio -->
              <select *ngSwitchCase="'anio'" class="form-control form-control-sm" formControlName="option">
                <option value="=~">&cong;</option>
                <option value="!=~">&#8775;</option>
                <option value="=">=</option>
                <option value="!=">&ne;</option>
                <option value="<=">&le;</option>
                <option value=">=">&ge;</option>
              </select>
    
              <!-- semestre -->
              <select *ngSwitchCase="'semestre'" class="form-control form-control-sm" formControlName="option">
                <option value="=~">&cong;</option>
                <option value="!=~">&#8775;</option>
                <option value="=">=</option>
                <option value="!=">&ne;</option>
                <option value="<=">&le;</option>
                <option value=">=">&ge;</option>
              </select>
    
              <!-- horas_catedra -->
              <select *ngSwitchCase="'horas_catedra'" class="form-control form-control-sm" formControlName="option">
                <option value="=~">&cong;</option>
                <option value="!=~">&#8775;</option>
                <option value="=">=</option>
                <option value="!=">&ne;</option>
                <option value="<=">&le;</option>
                <option value=">=">&ge;</option>
              </select>
    
              <!-- plan -->
              <select *ngSwitchCase="'plan'" class="form-control form-control-sm" formControlName="option">
                <option value="=">=</option>
                <option value="!=">&ne;</option>
              </select>

              <!-- asignatura -->
              <select *ngSwitchCase="'asignatura'" class="form-control form-control-sm" formControlName="option">
                <option value="=">=</option>
                <option value="!=">&ne;</option>
              </select>

            </div>


            <div class="col-xs-4" [ngSwitch]="f(i)" >
              <!-- todos -->
              <input *ngSwitchCase="'_search'" class="form-control form-control-sm" formControlName="value">

              <!-- id -->
              <app-filter-typeahead *ngSwitchCase="'id'" [entityName]="'carga_horaria'" [filter]="filter" ></app-filter-typeahead>

              <!-- anio -->
              <input *ngSwitchCase="'anio'" class="form-control form-control-sm" formControlName="value">

              <!-- semestre -->
              <input *ngSwitchCase="'semestre'" class="form-control form-control-sm" formControlName="value">

              <!-- horas_catedra -->
              <input *ngSwitchCase="'horas_catedra'" class="form-control form-control-sm" formControlName="value">

              <!-- plan -->
              <app-filter-typeahead *ngSwitchCase="'plan'" [entityName]="'plan'" [filter]="filter" ></app-filter-typeahead>

              <!-- asignatura -->
              <app-filter-typeahead *ngSwitchCase="'asignatura'" [entityName]="'asignatura'" [filter]="filter" ></app-filter-typeahead>

              <div *ngSwitchDefault>Seleccione campo</div>
            </div>
            <div class="col-xs-2">
              <button type="button" class="btn btn-danger btn-sm" (click)="removeFilter(i)"><span class="oi oi-x"></span></button>
            </div>
          </div>
        </div> <!-- formArrayName="filters" -->
      
        <div class="form-row">
          <div class="col">
            <button type="button" class="btn btn-info btn-sm" (click)="addFilter()"><span class="oi oi-layers"></span></button>
            <button type="submit" class="btn btn-primary btn-sm"><span class="oi oi-magnifying-glass"></span></button>
          </div>
        </div>
      </form>
    </ng-template>
  </ngb-panel>
</ngb-accordion>
